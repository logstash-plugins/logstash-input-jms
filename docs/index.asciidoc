:plugin: jms
:type: input
:default_codec: plain

///////////////////////////////////////////
START - GENERATED VARIABLES, DO NOT EDIT!
///////////////////////////////////////////
:version: %VERSION%
:release_date: %RELEASE_DATE%
:changelog_url: %CHANGELOG_URL%
:include_path: ../../../../logstash/docs/include
///////////////////////////////////////////
END - GENERATED VARIABLES, DO NOT EDIT!
///////////////////////////////////////////

[id="plugins-{type}s-{plugin}"]

=== Jms input plugin

include::{include_path}/plugin_header.asciidoc[]

==== Description

Read events from a Jms Broker. Supports both Jms Queues and Topics.

For more information about Jms, see <http://docs.oracle.com/javaee/6/tutorial/doc/bncdq.html>.
For more information about the Ruby Gem used, see <http://github.com/reidmorrison/jruby-jms>.
Here is a config example to pull from a queue:

[source,ruby]
----
 jms {
    include_header => false
    include_properties => false
    include_body => true
    use_jms_timestamp => false
    interval => 10
    destination => "myqueue"
    pub-sub => false
    yaml_file => "~/jms.yml"
    yaml_section => "mybroker"
  }
----


[id="plugins-{type}s-{plugin}-options"]
==== Jms Input Configuration Options

This plugin supports the following configuration options plus the <<plugins-{type}s-{plugin}-common-options>> described later.

[cols="<,<,<",options="header",]
|=======================================================================
|Setting |Input type|Required
| <<plugins-{type}s-{plugin}-broker_url>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-destination>> |<<string,string>>|Yes
| <<plugins-{type}s-{plugin}-durable_subscriber>> |<<boolean,boolean>>|No
| <<plugins-{type}s-{plugin}-durable_subscriber_client_id>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-durable_subscriber_name>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-factory>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-include_body>> |<<boolean,boolean>>|No
| <<plugins-{type}s-{plugin}-include_header>> |<<boolean,boolean>>|No
| <<plugins-{type}s-{plugin}-include_properties>> |<<boolean,boolean>>|No
| <<plugins-{type}s-{plugin}-interval>> |<<number,number>>|No
| <<plugins-{type}s-{plugin}-jndi_context>> |<<hash,hash>>|No
| <<plugins-{type}s-{plugin}-jndi_name>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-keystore>> |a valid filesystem path|No
| <<plugins-{type}s-{plugin}-keystore_password>> |<<password,password>>|No
| <<plugins-{type}s-{plugin}-oracle_aq_buffered_messages>> |<<boolean,boolean>>|No
| <<plugins-{type}s-{plugin}-password>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-pub_sub>> |<<boolean,boolean>>|No
| <<plugins-{type}s-{plugin}-require_jars>> |<<array,array>>|No
| <<plugins-{type}s-{plugin}-runner>> |<<string,string>>|__Deprecated__
| <<plugins-{type}s-{plugin}-selector>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-threads>> |<<number,number>>|No
| <<plugins-{type}s-{plugin}-timeout>> |<<number,number>>|No
| <<plugins-{type}s-{plugin}-truststore>> |a valid filesystem path|No
| <<plugins-{type}s-{plugin}-truststore_password>> |<<password,password>>|No
| <<plugins-{type}s-{plugin}-use_jms_timestamp>> |<<boolean,boolean>>|No
| <<plugins-{type}s-{plugin}-username>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-yaml_file>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-yaml_section>> |<<string,string>>|No
|=======================================================================

Also see <<plugins-{type}s-{plugin}-common-options>> for a list of options supported by all
input plugins.

&nbsp;

[id="plugins-{type}s-{plugin}-broker_url"]
===== `broker_url`

  * Value type is <<string,string>>
  * There is no default value for this setting.

Url to use when connecting to the JMS provider.

[id="plugins-{type}s-{plugin}-destination"]
===== `destination` 

  * This is a required setting.
  * Value type is <<string,string>>
  * There is no default value for this setting.

Name of the destination queue or topic to use.

[id="plugins-{type}s-{plugin}-durable_subscriber"]
===== `durable_subscriber`

  * Value type is <<boolean,boolean>>
  * This is `false` by default
  * Requires `pub_sub` to be true

Setting this value to `true` will make subscriptions to topics "durable", allowing messages that arrived on the specified
topic while Logstash is not running to still be read. Without setting this value, any messages sent to a topic while
 Logstash is not actively listening will be lost. A durable subscriber specifies a unique identity consisting of the
 topic (`destination`), the client id (`durable_subscriber_client_id`) and subscriber name
 (`durable_subscriber_subscriber_name`). See your JMS Provider documentation for any further requirements/limitations
 around these settings.

* Note that a durable subscription can only have one active subscriber at a time.
* Note that this setting is only permitted when `pub_sub` is set to true, and will generate a configuration error otherwise

[id="plugins-{type}s-{plugin}-durable_subscriber_client_id"]
===== `durable_subscriber_client_id`

  * Value type is <<string,string>>
  * If `durable_subscriber` is set, the default value for this setting is 'Logstash', otherwise this setting has no
    effect

This represents the value of the client ID for a durable subscribtion, and is only used if `durable_subscriber` is set to `true`.

[id="plugins-{type}s-{plugin}-durable_subscriber_name"]
===== `durable_subscriber_name`

  * Value type is <<string,string>>
  * If `durable_subscriber` is set, the default value for this setting will be the same value as the `destination`
    setting, otherwise this setting has no effect.

This represents the value of the subscriber name for a durable subscribtion, and is only used if `durable_subscriber`
is set to `true`. Please consult your JMS Provider documentation for constraints and requirements for this setting.

[id="plugins-{type}s-{plugin}-factory"]
===== `factory` 

  * Value type is <<string,string>>
  * There is no default value for this setting.

Name of JMS Provider Factory class.

[id="plugins-{type}s-{plugin}-include_body"]
===== `include_body` 

  * Value type is <<boolean,boolean>>
  * Default value is `true`

Include JMS Message Body in the event.
Supports TextMessage, MapMessage and ByteMessage.

If the JMS Message is a TextMessage or ByteMessage, then the value will be in
the "message" field of the event. If the JMS Message is a MapMessage, then all
the key/value pairs will be added in the Hashmap of the event.

StreamMessage and ObjectMessage are not supported.

[id="plugins-{type}s-{plugin}-include_header"]
===== `include_header` 

  * Value type is <<boolean,boolean>>
  * Default value is `true`

A JMS message has three parts:

* Message Headers (required)
* Message Properties (optional)
* Message Bodies (optional)

You can tell the input plugin which parts should be included in the event produced by Logstash.

Include JMS Message Header Field values in the event.

[id="plugins-{type}s-{plugin}-include_properties"]
===== `include_properties` 

  * Value type is <<boolean,boolean>>
  * Default value is `true`

Include JMS Message Properties Field values in the event.

[id="plugins-{type}s-{plugin}-interval"]
===== `interval` 

  * Value type is <<number,number>>
  * Default value is `10`

Polling interval in seconds.
This is the time sleeping between asks to a consumed Queue.
This parameter has non influence in the case of a subcribed Topic.

[id="plugins-{type}s-{plugin}-jndi_context"]
===== `jndi_context` 

  * Value type is <<hash,hash>>
  * There is no default value for this setting.

Mandatory if jndi lookup is being used.
Contains details on how to connect to JNDI server.

[id="plugins-{type}s-{plugin}-jndi_name"]
===== `jndi_name` 

  * Value type is <<string,string>>
  * There is no default value for this setting.

Name of JNDI entry at which the Factory can be found.

[id="plugins-{type}s-{plugin}-keystore"]
===== `keystore`

  * Value type is <<path,path>>
  * There is no default value for this setting.

If you need to use a custom keystore (`.jks`) specify it here. This does not work with .pem keys

[id="plugins-{type}s-{plugin}-keystore_password"]
===== `keystore_password`

  * Value type is <<password,password>>
  * There is no default value for this setting.

Specify the keystore password here.
Note, most .jks files created with keytool require a password

[id="plugins-{type}s-{plugin}-oracle_aq_buffered_messages"]
===== `oracle_aq_buffered_messages` 

  * Value type is <<boolean,boolean>>
  * Default value is `false`

Receive Oracle AQ buffered messages.
In this mode persistent Oracle AQ JMS messages will not be received.

[id="plugins-{type}s-{plugin}-password"]
===== `password` 

  * Value type is <<string,string>>
  * There is no default value for this setting.

Password to use when connecting to the JMS provider.

[id="plugins-{type}s-{plugin}-pub_sub"]
===== `pub_sub` 

  * Value type is <<boolean,boolean>>
  * Default value is `false`

If pub-sub (topic) style should be used.

[id="plugins-{type}s-{plugin}-require_jars"]
===== `require_jars` 

  * Value type is <<array,array>>
  * There is no default value for this setting.

If you do not use an yaml configuration use either the factory or jndi_name.
An optional array of Jar file names to load for the specified
JMS provider. By using this option it is not necessary
to put all the JMS Provider specific jar files into the
java CLASSPATH prior to starting Logstash.

[id="plugins-{type}s-{plugin}-runner"]
===== `runner` 

  * DEPRECATED WARNING: This configuration item is deprecated and may not be available in future versions.


[id="plugins-{type}s-{plugin}-selector"]
===== `selector` 

  * Value type is <<string,string>>
  * There is no default value for this setting.

Set the selector to use to get messages off the queue or topic.

[id="plugins-{type}s-{plugin}-threads"]
===== `threads` 

  * Value type is <<number,number>>
  * Default value is `1`

[id="plugins-{type}s-{plugin}-timeout"]
===== `timeout` 

  * Value type is <<number,number>>
  * Default value is `60`

Initial connection timeout in seconds.

[id="plugins-{type}s-{plugin}-use_jms_timestamp"]
===== `use_jms_timestamp` 

  * Value type is <<boolean,boolean>>
  * Default value is `false`

Convert the JMSTimestamp header field to the @timestamp value of the event.

[id="plugins-{type}s-{plugin}-truststore"]
===== `truststore`

  * Value type is <<path,path>>
  * There is no default value for this setting.

If you need to use a custom truststore (`.jks`) specify it here. This does not work with .pem certs.

[id="plugins-{type}s-{plugin}-truststore_password"]
===== `truststore_password`

  * Value type is <<password,password>>
  * There is no default value for this setting.

Specify the truststore password here.
Note, most .jks files created with keytool require a password.

===== `truststore_password`

  * Value type is <<password,password>>
  * There is no default value for this setting.

Specify the truststore password here.
Note, most .jks files created with keytool require a password.

[id="plugins-{type}s-{plugin}-username"]
===== `username` 

  * Value type is <<string,string>>
  * There is no default value for this setting.

Username to use for connecting to JMS provider.

[id="plugins-{type}s-{plugin}-yaml_file"]
===== `yaml_file` 

  * Value type is <<string,string>>
  * There is no default value for this setting.

Yaml config file

[id="plugins-{type}s-{plugin}-yaml_section"]
===== `yaml_section` 

  * Value type is <<string,string>>
  * There is no default value for this setting.

Yaml config file section name
For some known examples, see https://github.com/reidmorrison/jruby-jms/blob/master/examples/jms.yml[jms.yml examples].



[id="plugins-{type}s-{plugin}-common-options"]
include::{include_path}/{type}.asciidoc[]

:default_codec!:
